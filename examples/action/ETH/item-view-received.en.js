//<![CDATA[
class Token {

    constructor(token, card) {
        this.token = token;
        this.card = card;
        this.time = this.formatTimeStamp(this.card.timestamp.date);
    }

    formatTimeStamp(time) {
        let a = new Date(time);
        let hours = a.getHours();
        let minutes = a.getMinutes();
        let ampm = hours >= 12 ? 'pm' : 'am';
        hours = hours % 12;
        hours = hours ? hours : 12; // the hour '0' should be '12'
        minutes = minutes < 10 ? '0' + minutes : minutes;
        return hours + ':' + minutes + ' ' + ampm;
    }

    render() {
        return`
        <div>
            <div class="container">
                <div class="logo">
                    <img src="data:image/png;base64,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">
                </div>
                <div class="info">
                    + ${(this.card.amount / 1e+18).toFixed(4)} aETH<br/>
                    <div class="time"><div class="time">${this.time}</div></div>
                </div>
                <div class="title">
                    Received <strong>aETH</strong>
                </div>
                <div class="subtitle">
                    from Aave
                </div>
            </div>
        </div>
`;
    }
}

web3.tokens.dataChanged = (oldTokens, updated, tokenIdCard) => {
    document.getElementById(tokenIdCard).innerHTML = new Token(updated.token, updated.card).render();
};
//]]>
